# Story 1.1.2: Mobile Hamburger Menu (Icon-Driven, No Text Labels)

**Epic:** 1.1 Responsive Navigation & Layout  
**Story Points:** 3  
**Sprint:** 1  
**Status:** Not Started

---

## User Story

**As a** mobile user with potentially low literacy  
**I want** a hamburger menu with ONLY icons  
**So that** I can navigate without needing to read text labels

---

## Acceptance Criteria

- [ ] Hamburger icon (≡) in top-left header on mobile (<1024px)
- [ ] Touch target: Hamburger button 44x44px minimum
- [ ] Tap opens slide-in menu from left (300px width, 300ms ease-out animation)
- [ ] Menu items use ONLY Hugeicons (NO text labels):
  - `Home` icon (24x24px) - Map
  - `FileText` icon (24x24px) - My Reports
  - `Zap` icon (24x24px) - Actions
  - `User` icon (24x24px) - Profile
- [ ] Each menu item is 56x56px touch target (exceeds 44px minimum)
- [ ] Active page has green background highlight (#059669 with 0.1 opacity)
- [ ] Tap outside menu closes it (backdrop overlay with onClick handler)
- [ ] Close button (✕) in top-right of menu (44x44px touch target)
- [ ] Smooth slide animation: `transform: translateX(-100%)` → `translateX(0)`

---

## Technical Implementation

### Components to Create

- `/components/navigation/MobileMenu.tsx`
- `/components/navigation/__tests__/MobileMenu.test.tsx`

### State Management

- Zustand store: `useNavigationStore({ isMenuOpen })`

### Key Technologies

- Radix UI Dialog for accessibility (focus trap, Esc key)
- Hugeicons: `Home`, `FileText`, `Zap`, `User`, `Menu01`, `Cancel01`
- Framer Motion or CSS transitions for animation

### Code Structure

```typescript
'use client';
import { Dialog } from '@radix-ui/react-dialog';
import { Home, FileText, Zap, User, Menu01, Cancel01 } from '@hugeicons/react';
import { useNavigationStore } from '@/stores/navigationStore';

export function MobileMenu() {
  const { isMenuOpen, setMenuOpen } = useNavigationStore();

  const menuItems = [
    { href: '/', icon: Home, label: 'Navigate to Map' },
    { href: '/reports', icon: FileText, label: 'Navigate to My Reports' },
    { href: '/actions', icon: Zap, label: 'Navigate to Actions' },
    { href: '/profile', icon: User, label: 'Navigate to Profile' },
  ];

  return (
    <>
      {/* Hamburger button */}
      <button
        aria-label="Open navigation menu"
        onClick={() => setMenuOpen(true)}
        className="w-11 h-11"
      >
        <Menu01 size={24} />
      </button>

      {/* Slide-in menu */}
      <Dialog open={isMenuOpen} onOpenChange={setMenuOpen}>
        {/* Implementation */}
      </Dialog>
    </>
  );
}
```

---

## Tasks & Subtasks

### Task 1: Create Mobile Menu Component

- [ ] Create `/components/navigation/MobileMenu.tsx` file
- [ ] Install Radix UI Dialog: `pnpm add @radix-ui/react-dialog`
- [ ] Import required Hugeicons
- [ ] Create hamburger button with 44x44px touch target
- [ ] Implement slide-in menu structure

### Task 2: Implement Slide Animation

- [ ] Add CSS transition: `transform: translateX(-100%)` → `translateX(0)`
- [ ] Set animation duration: 300ms ease-out
- [ ] Add backdrop overlay with fade-in animation
- [ ] Test animation smoothness on mobile devices

### Task 3: Create Icon-Only Menu Items

- [ ] Create menu item buttons with ONLY icons (NO text)
- [ ] Set touch targets to 56x56px (exceeds minimum)
- [ ] Add aria-label for screen readers
- [ ] Implement active state with green background (#059669, 0.1 opacity)
- [ ] Add close button (✕) in top-right

### Task 4: State Management with Zustand

- [ ] Update `/stores/navigationStore.ts` with menu state
- [ ] Add `isMenuOpen` boolean state
- [ ] Add `setMenuOpen` action
- [ ] Connect menu to store

### Task 5: Accessibility Implementation

- [ ] Each icon button has proper `aria-label`
- [ ] Focus trap when menu open (Radix Dialog provides this)
- [ ] Esc key closes menu
- [ ] Backdrop click closes menu
- [ ] Test keyboard navigation
- [ ] Test with screen reader

### Task 6: Testing

- [ ] Write unit tests for MobileMenu component
- [ ] Test menu open/close functionality
- [ ] Test active state logic
- [ ] Test touch target sizes (44x44px minimum)
- [ ] Run axe-core accessibility validation
- [ ] Test on actual mobile devices (iOS Safari, Chrome Android)

---

## Dependencies

- **Blocked by:** Story 1.1.1 (shares navigation state), Story 0.3 (Hugeicons) ✅
- **Blocks:** None
- **Related:** Story 1.1.3 (role-based menu visibility)

---

## Definition of Done

- [x] All acceptance criteria met
- [x] Unit tests written and passing (80% coverage)
- [x] Accessibility tested (WCAG 2.1 AA compliant)
- [x] Works on iOS Safari and Chrome Android
- [x] Touch targets verified (56x56px menu items)
- [x] No console errors or warnings
- [x] Code reviewed and approved
- [x] Deployed to Vercel preview environment

---

## Notes

- **CRITICAL:** NO text labels on menu items (icon-only design for low-literacy users)
- Audio tooltips deferred to Phase 2 (text-to-speech on tap)
- Each icon button MUST have `aria-label` for screen readers
- Example: `<button aria-label="Navigate to Map"><Home size={24} /></button>`
