# Story 1.1.1: Desktop Navigation Bar

**Epic:** 1.1 Responsive Navigation & Layout  
**Story Points:** 3  
**Sprint:** 1  
**Status:** Not Started

---

## User Story

**As a** desktop user  
**I want** a horizontal navigation bar with clear links  
**So that** I can easily access different sections of the platform

---

## Acceptance Criteria

- [ ] Navbar displays logo (ðŸŒ¿ EcoPulse) on the left
- [ ] Menu items: Map, My Reports, Actions, Profile (right side)
- [ ] User avatar/login button on far right
- [ ] Active page highlighted with green underline (#059669)
- [ ] Responsive: collapses to hamburger menu at 1024px breakpoint
- [ ] Uses Radix UI Navigation Menu component
- [ ] Keyboard navigable (Tab, Enter, Esc)
- [ ] Touch targets: All clickable elements 44x44px minimum (WCAG 2.1 AA)
- [ ] Sticky positioning (stays visible on scroll, z-index: 50)

---

## Technical Implementation

### Components to Create

- `/components/navigation/DesktopNav.tsx`
- `/components/navigation/__tests__/DesktopNav.test.tsx`

### Key Technologies

- Radix UI NavigationMenu primitive
- Hugeicons: `Home`, `FileText`, `Zap`, `User`
- Next.js `usePathname` for active state
- Tailwind CSS for styling

### Code Structure

```typescript
'use client';
import { NavigationMenu } from '@radix-ui/react-navigation-menu';
import { Home, FileText, Zap, User } from '@hugeicons/react';
import { usePathname } from 'next/navigation';

export function DesktopNav() {
  const pathname = usePathname();

  const navItems = [
    { href: '/', label: 'Map', icon: Home },
    { href: '/reports', label: 'My Reports', icon: FileText },
    { href: '/actions', label: 'Actions', icon: Zap },
    { href: '/profile', label: 'Profile', icon: User },
  ];

  return (
    <NavigationMenu className="sticky top-0 z-50 bg-white border-b">
      {/* Implementation */}
    </NavigationMenu>
  );
}
```

---

## Tasks & Subtasks

### Task 1: Create Desktop Navigation Component

- [ ] Create `/components/navigation/DesktopNav.tsx` file
- [ ] Install Radix UI Navigation Menu: `pnpm add @radix-ui/react-navigation-menu`
- [ ] Import required Hugeicons
- [ ] Implement logo section on left
- [ ] Implement navigation menu items on right
- [ ] Add user avatar/login button on far right

### Task 2: Implement Active State Styling

- [ ] Use `usePathname()` to detect current route
- [ ] Add green underline (#059669) to active menu item
- [ ] Add hover states for non-active items
- [ ] Test active state on all routes

### Task 3: Ensure Accessibility

- [ ] Add keyboard navigation support
- [ ] Ensure 44x44px minimum touch targets
- [ ] Add proper ARIA labels
- [ ] Test with keyboard only (Tab, Enter, Esc)
- [ ] Test with screen reader (VoiceOver/NVDA)

### Task 4: Responsive Breakpoint

- [ ] Add media query to hide navbar at <1024px
- [ ] Verify hamburger menu appears at mobile breakpoint
- [ ] Test on desktop, tablet, and mobile viewports

### Task 5: Testing

- [ ] Write unit tests for DesktopNav component
- [ ] Test active state logic
- [ ] Test keyboard navigation
- [ ] Run axe-core accessibility validation
- [ ] Lighthouse accessibility score >90

---

## Dependencies

- **Blocked by:** Story 0.3 (Hugeicons installed) âœ… COMPLETE
- **Blocks:** Story 1.1.2 (shares navigation state)
- **Related:** Story 1.1.3 (role-based menu visibility)

---

## Definition of Done

- [x] All acceptance criteria met
- [x] Unit tests written and passing (80% coverage)
- [x] Accessibility tested (WCAG 2.1 AA compliant)
- [x] Works on Chrome, Safari, Firefox (last 2 versions)
- [x] No console errors or warnings
- [x] Code reviewed and approved
- [x] Deployed to Vercel preview environment

---

## Notes

- Logo will be simple text + emoji for MVP (custom logo in Phase 2)
- Sticky positioning ensures navbar always visible during scroll
- Radix UI provides keyboard navigation out of the box
