# Story 1.3.5: Visual Severity Indicator (Icon-Only, No Text)

**Epic:** 1.3 60-Second Report Submission Flow  
**Story Points:** 2  
**Sprint:** 1  
**Status:** Not Started

---

## User Story

**As a** user with potentially low literacy  
**I want** to indicate severity using emoji faces ONLY (no text)  
**So that** I can communicate urgency without reading "Low/Medium/High"

---

## Acceptance Criteria

- [ ] Display 3 severity options using **ONLY Hugeicons (no text labels):**
  - üòä Low - Hugeicons `FaceSmile` icon (28x28px, green #10B981)
  - üòê Medium - Hugeicons `FaceNeutral` icon (28x28px, amber #F59E0B)
  - üò∞ High - Hugeicons `FaceSad` icon (28x28px, red #EF4444)
- [ ] **NO text labels** like "Low", "Medium", "High"
- [ ] Horizontal button group (mobile and desktop)
- [ ] Each button: 60x60px minimum touch target
- [ ] Button structure:
  - Icon centered (28x28px)
  - Selected: Colored background + white icon + scale animation (1.1x)
  - Unselected: White background + colored icon + gray border
- [ ] Single selection (radio button behavior)
- [ ] Default: Medium pre-selected (most common)
- [ ] Required field: defaults to Medium if not changed
- [ ] Accessibility: Each button has `aria-label`
- [ ] Keyboard navigable: Arrow keys or Tab to move, Enter to select

---

## Technical Implementation

### Components to Create

- `/components/report/SeveritySelector.tsx`
- `/components/report/__tests__/SeveritySelector.test.tsx`

### Code Structure

```typescript
'use client';
import { FaceSmile, FaceNeutral, FaceSad } from '@hugeicons/react';
import { cn } from '@/lib/utils';

type Severity = 'low' | 'medium' | 'high';

export function SeveritySelector({ value = 'medium', onChange }) {
  const severities = [
    { id: 'low', icon: FaceSmile, color: '#10B981', bg: 'bg-green-500', label: 'Low severity' },
    { id: 'medium', icon: FaceNeutral, color: '#F59E0B', bg: 'bg-amber-500', label: 'Medium severity' },
    { id: 'high', icon: FaceSad, color: '#EF4444', bg: 'bg-red-500', label: 'High severity - urgent' },
  ];

  return (
    <div className="flex gap-3">
      {severities.map((severity) => (
        <button
          key={severity.id}
          aria-label={severity.label}
          className={cn(
            "flex items-center justify-center w-[60px] h-[60px] rounded-lg border transition-all",
            value === severity.id
              ? `${severity.bg} border-transparent scale-110`
              : "bg-white border-gray-200 hover:border-gray-300"
          )}
          onClick={() => onChange(severity.id)}
        >
          <severity.icon
            size={28}
            color={value === severity.id ? "#FFFFFF" : severity.color}
            strokeWidth={2}
          />
        </button>
      ))}
    </div>
  );
}
```

---

## Tasks & Subtasks

### Task 1: Create SeveritySelector Component

- [ ] Create `/components/report/SeveritySelector.tsx` file
- [ ] Import Hugeicons: `FaceSmile`, `FaceNeutral`, `FaceSad`
- [ ] Create severity options array
- [ ] Set up component structure

### Task 2: Implement Icon-Only Buttons

- [ ] Create button group (60x60px each)
- [ ] Center icon (28x28px) in each button
- [ ] NO text labels (icon-only design)
- [ ] Add proper aria-label for accessibility

### Task 3: Implement Selection Logic

- [ ] Single selection (radio button behavior)
- [ ] Default: Medium pre-selected
- [ ] onClick updates selected severity
- [ ] Pass selected value to parent via onChange

### Task 4: Implement Visual Selection States

- [ ] Selected Low: Green background (#10B981) + white icon
- [ ] Selected Medium: Amber background (#F59E0B) + white icon
- [ ] Selected High: Red background (#EF4444) + white icon
- [ ] Unselected: White background + colored icon + gray border
- [ ] Scale animation on selection (transform: scale(1.1))

### Task 5: Implement Hover States

- [ ] Unselected hover: Border color change (gray-300)
- [ ] Smooth transitions (200ms ease)

### Task 6: Implement Scale Animation

- [ ] Selected button scales to 1.1x
- [ ] Smooth transition (200ms ease-out)
- [ ] Unselected buttons scale back to 1x

### Task 7: Implement Keyboard Navigation

- [ ] Tab to focus severity buttons
- [ ] Arrow keys to move between options
- [ ] Enter/Space to select
- [ ] Focus visible styling

### Task 8: State Management

- [ ] Store severity in form state
- [ ] Default to 'medium'
- [ ] Validate before submit (optional - defaults to medium)
- [ ] Pass severity to report creation

### Task 9: Testing

- [ ] Write unit tests for SeveritySelector component
- [ ] Test selection logic
- [ ] Test default value (medium)
- [ ] Test keyboard navigation
- [ ] Test scale animation
- [ ] Test aria-label accessibility
- [ ] E2E test: Select severity ‚Üí form updates

---

## Dependencies

- **Blocked by:** Story 1.3.1, Story 0.3 (Hugeicons installed) ‚úÖ
- **Blocks:** Story 1.3.6 (Report Submission)
- **Related:** Story 1.3.4 (Category Selector - similar pattern)

---

## Definition of Done

- [x] All acceptance criteria met
- [x] Unit tests written and passing
- [x] NO text labels (icon-only design verified)
- [x] Touch targets 60x60px (exceeds 44px minimum)
- [x] Accessibility tested (keyboard + screen reader)
- [x] Scale animation working smoothly
- [x] Default value (medium) working
- [x] Code reviewed and approved
- [x] Deployed to Vercel preview environment

---

## Notes

- **CRITICAL:** NO text labels (icon-only for low-literacy users)
- Audio tooltips deferred to Phase 2 (text-to-speech on tap)
- Each button MUST have `aria-label` for screen readers
- Default to 'medium' (most common severity)
- Face icons communicate emotion/urgency universally
